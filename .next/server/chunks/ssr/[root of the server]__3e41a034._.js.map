{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 215, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Admin/Desktop/CAPSTONE/src/ai/genkit.ts"],"sourcesContent":["import {genkit} from 'genkit';\nimport {googleAI} from '@genkit-ai/googleai';\n\nexport const ai = genkit({\n  plugins: [googleAI()],\n  model: 'googleai/gemini-2.0-flash',\n});\n"],"names":[],"mappings":";;;AAAA;AAAA;AACA;AAAA;;;AAEO,MAAM,KAAK,CAAA,GAAA,uIAAA,CAAA,SAAM,AAAD,EAAE;IACvB,SAAS;QAAC,CAAA,GAAA,2KAAA,CAAA,WAAQ,AAAD;KAAI;IACrB,OAAO;AACT","debugId":null}},
    {"offset": {"line": 236, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Admin/Desktop/CAPSTONE/src/ai/flows/history-insights-flow.ts"],"sourcesContent":["\n'use server';\n/**\n * @fileOverview Provides AI-driven insights based on historical RRJ Aquatique data.\n *\n * - getHistoryInsights - A function that analyzes historical data to provide recommendations and container level estimations.\n * - HistoryInsightsInput - The input type for the getHistoryInsights function.\n * - HistoryInsightsOutput - The return type for the getHistoryInsights function.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\n\n// Define the structure for a single day's historical entry\nconst HistoricalEntrySchema = z.object({\n  date: z.string().describe('The date of the historical entry (e.g., \"Jun 20th, 2023\").'),\n  waterQuality: z.object({\n    temp: z.string().describe('Average temperature in °C.'),\n    turbidity: z.string().describe('Average turbidity in NTU.'),\n    ph: z.string().describe('Average pH level.'),\n  }),\n  feedingSchedules: z.array(z.string()).describe('List of feeding times for the day (e.g., [\"08:00\", \"18:00\"]). Empty if no feeding occurred.'),\n  phBalancerTriggered: z.boolean().describe('Whether the pH balancer was triggered on this day.'),\n  isAutoFeedingEnabledToday: z.boolean().optional().describe('Whether automated feeding was enabled on this day. If undefined, it means not recorded.'),\n  isAutoPhEnabledToday: z.boolean().optional().describe('Whether automated pH balancing was enabled on this day. If undefined, it means not recorded.'),\n  foodLevelStartOfDay: z.number().optional().describe('Food container percentage at the start of the day (0-100). If undefined, it means not recorded.'),\n  foodLevelEndOfDay: z.number().optional().describe('Food container percentage at the end of the day (0-100). If undefined, it means not recorded.'),\n  phSolutionLevelStartOfDay: z.number().optional().describe('pH solution container percentage at the start of the day (0-100). If undefined, it means not recorded.'),\n  phSolutionLevelEndOfDay: z.number().optional().describe('pH solution container percentage at the end of the day (0-100). If undefined, it means not recorded.'),\n});\ntype HistoricalEntry = z.infer<typeof HistoricalEntrySchema>;\n\n\nconst HistoryInsightsInputSchema = z.object({\n  historicalData: z.array(HistoricalEntrySchema).describe('An array of historical data entries, ideally for the last 7 days, but can be fewer.'),\n  currentFoodLevel: z.number().describe('The current food container level as a percentage (0-100).'),\n  currentPhSolutionLevel: z.number().describe('The current pH solution container level as a percentage (0-100).'),\n});\nexport type HistoryInsightsInput = z.infer<typeof HistoryInsightsInputSchema>;\n\nconst HistoryInsightsOutputSchema = z.object({\n  recommendedActions: z.array(z.string()).describe('Up to 3 concise, actionable recommendations based on the historical data analysis. If data is very limited, this might be a general statement.'),\n  estimatedFoodEmptyDate: z.string().describe('Estimated date or timeframe when the food container will be empty (e.g., \"in X days\", \"on YYYY-MM-DD\", or \"Estimation unavailable\"). Qualify certainty if data is limited.'),\n  estimatedPhSolutionEmptyDate: z.string().describe('Estimated date or timeframe when the pH solution container will be empty (e.g., \"in X days\", \"on YYYY-MM-DD\", or \"Estimation unavailable\"). Qualify certainty if data is limited.'),\n});\nexport type HistoryInsightsOutput = z.infer<typeof HistoryInsightsOutputSchema>;\n\nexport async function getHistoryInsights(input: HistoryInsightsInput): Promise<HistoryInsightsOutput> {\n  return historyInsightsFlow(input);\n}\n\nconst historyInsightsPrompt = ai.definePrompt({\n  name: 'historyInsightsPrompt',\n  input: {schema: HistoryInsightsInputSchema},\n  output: {schema: HistoryInsightsOutputSchema},\n  prompt: `You are an expert aquaculture and IoT system advisor. Analyze the provided historical data from an RRJ Aquatique system and current container levels.\nIf the provided historical data covers fewer than 7 days, acknowledge this limitation directly in your 'recommendedActions' and qualify the certainty of your estimations.\n\nHistorical Data:\n{{#each historicalData}}\nDate: {{{date}}}\n  Water Quality: Temp: {{{waterQuality.temp}}}°C, Turbidity: {{{waterQuality.turbidity}}} NTU, pH: {{{waterQuality.ph}}}\n  Feeding Times: {{#if feedingSchedules.length}}{{#each feedingSchedules}}{{{this}}}{{#unless @last}}, {{/unless}}{{/each}}{{else}}None{{/if}}\n  pH Balancer Triggered: {{{phBalancerTriggered}}}\n  {{#if isAutoFeedingEnabledToday~}}\n  Auto Feeding System Enabled Today: {{{isAutoFeedingEnabledToday}}}\n  {{~/if}}\n  {{#if isAutoPhEnabledToday~}}\n  Auto pH System Enabled Today: {{{isAutoPhEnabledToday}}}\n  {{~/if}}\n  {{#if foodLevelStartOfDay~}}\n  Food Level (Start -> End of Day): {{{foodLevelStartOfDay}}}% -> {{{foodLevelEndOfDay}}}%\n  {{~/if}}\n  {{#if phSolutionLevelStartOfDay~}}\n  pH Solution Level (Start -> End of Day): {{{phSolutionLevelStartOfDay}}}% -> {{{phSolutionLevelEndOfDay}}}%\n  {{~/if}}\n{{/each}}\n\nCurrent Container Levels:\n- Food Level: {{{currentFoodLevel}}}%\n- pH Solution Level: {{{currentPhSolutionLevel}}}%\n\nBased on this data:\n1.  **Recommended Actions**: Identify any notable patterns, potential issues (e.g., consistently high turbidity, significant pH swings, days with no feeding if schedules usually exist and auto-feed was enabled, frequent pH balancer activation especially if auto-pH was enabled).\n    Consider the daily operational parameters:\n    *   \\`Auto Feeding System Enabled Today\\`: (true/false) Indicates if the automated feeding system was active for that day. Absence of this field means status was not recorded for that day. If feedings are missed while the auto-feeding system was supposedly enabled, flag this as an issue.\n    *   \\`Auto pH System Enabled Today\\`: (true/false) Indicates if the automated pH balancing system was active. Absence of this field means status was not recorded for that day.\n    *   \\`Food Level (Start -> End of Day)\\`: Shows food percentage. Absence means not recorded. Note any unusually high daily consumption.\n    *   \\`pH Solution Level (Start -> End of Day)\\`: Shows pH solution percentage. Absence means not recorded. Note any unusually high daily consumption.\n    Provide 2-3 concise, actionable recommendations to maintain or improve the aquatic environment. If data is very limited (e.g., 1-2 days), recommendations may need to be more general or focus on establishing a baseline.\n\n2.  **Food Container Estimation**:\n    *   Assume each feeding time listed in the historical data consumes approximately 2.5% of the total food container capacity.\n    *   Calculate the average number of feedings per day from the historical data.\n    *   Based on this average daily consumption and the 'currentFoodLevel', estimate when the food container will be empty.\n    *   State this as \"in X days\", \"on YYYY-MM-DD (using the date of the last entry in historicalData as the 'current day' for this estimation)\", or \"Estimation unavailable due to insufficient/unreliable data\". If data is limited, explicitly state that the estimation is less certain.\n\n3.  **pH Solution Container Estimation**:\n    *   Assume each day the 'phBalancerTriggered' is true, it consumes approximately 1.5% of the total pH solution container capacity.\n    *   Calculate the average daily consumption based on how many days the balancer was triggered in the historical data.\n    *   Based on this average daily consumption and the 'currentPhSolutionLevel', estimate when the pH solution will be empty.\n    *   State this as \"in X days\", \"on YYYY-MM-DD (using the date of the last entry in historicalData as the 'current day' for this estimation)\", or \"Estimation unavailable due to insufficient/unreliable data\". If data is limited, explicitly state that the estimation is less certain.\n\nReturn your response in the specified JSON format.\n`,\n});\n\nconst historyInsightsFlow = ai.defineFlow(\n  {\n    name: 'historyInsightsFlow',\n    inputSchema: HistoryInsightsInputSchema,\n    outputSchema: HistoryInsightsOutputSchema,\n  },\n  async (input) => {\n    // The check for historicalData.length < 7 has been removed.\n    // The prompt now instructs the LLM on how to handle limited data.\n    // It's assumed that if this flow is called, historicalData will not be completely empty,\n    // as SystemOverviewCard.tsx typically ensures some data is present before calling.\n    // If historicalData could be empty, an additional check here might be useful:\n    if (!input.historicalData || input.historicalData.length === 0) {\n      return {\n        recommendedActions: [\"No historical data provided. Cannot generate insights.\"],\n        estimatedFoodEmptyDate: \"Estimation unavailable\",\n        estimatedPhSolutionEmptyDate: \"Estimation unavailable\",\n      };\n    }\n\n    const {output} = await historyInsightsPrompt(input);\n    if (!output) {\n        // This error means the AI's response didn't match the expected schema or the call failed.\n        throw new Error(\"AI failed to generate insights or the response was not in the expected format.\");\n    }\n    return output;\n  }\n);\n\n"],"names":[],"mappings":";;;;;AAEA;;;;;;CAMC,GAED;AACA;AAAA;;;;;;AAEA,2DAA2D;AAC3D,MAAM,wBAAwB,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACrC,MAAM,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC1B,cAAc,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;QACrB,MAAM,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;QAC1B,WAAW,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;QAC/B,IAAI,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC1B;IACA,kBAAkB,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,uIAAA,CAAA,IAAC,CAAC,MAAM,IAAI,QAAQ,CAAC;IAC/C,qBAAqB,uIAAA,CAAA,IAAC,CAAC,OAAO,GAAG,QAAQ,CAAC;IAC1C,2BAA2B,uIAAA,CAAA,IAAC,CAAC,OAAO,GAAG,QAAQ,GAAG,QAAQ,CAAC;IAC3D,sBAAsB,uIAAA,CAAA,IAAC,CAAC,OAAO,GAAG,QAAQ,GAAG,QAAQ,CAAC;IACtD,qBAAqB,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ,CAAC;IACpD,mBAAmB,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ,CAAC;IAClD,2BAA2B,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ,CAAC;IAC1D,yBAAyB,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ,CAAC;AAC1D;AAIA,MAAM,6BAA6B,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC1C,gBAAgB,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,uBAAuB,QAAQ,CAAC;IACxD,kBAAkB,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IACtC,wBAAwB,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AAC9C;AAGA,MAAM,8BAA8B,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC3C,oBAAoB,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,uIAAA,CAAA,IAAC,CAAC,MAAM,IAAI,QAAQ,CAAC;IACjD,wBAAwB,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC5C,8BAA8B,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AACpD;AAGO,eAAe,uCAAgB,GAAhB,mBAAmB,KAA2B;IAClE,OAAO,oBAAoB;AAC7B;AAEA,MAAM,wBAAwB,mHAAA,CAAA,KAAE,CAAC,YAAY,CAAC;IAC5C,MAAM;IACN,OAAO;QAAC,QAAQ;IAA0B;IAC1C,QAAQ;QAAC,QAAQ;IAA2B;IAC5C,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDX,CAAC;AACD;AAEA,MAAM,sBAAsB,mHAAA,CAAA,KAAE,CAAC,UAAU,CACvC;IACE,MAAM;IACN,aAAa;IACb,cAAc;AAChB,GACA,OAAO;IACL,4DAA4D;IAC5D,kEAAkE;IAClE,yFAAyF;IACzF,mFAAmF;IACnF,8EAA8E;IAC9E,IAAI,CAAC,MAAM,cAAc,IAAI,MAAM,cAAc,CAAC,MAAM,KAAK,GAAG;QAC9D,OAAO;YACL,oBAAoB;gBAAC;aAAyD;YAC9E,wBAAwB;YACxB,8BAA8B;QAChC;IACF;IAEA,MAAM,EAAC,MAAM,EAAC,GAAG,MAAM,sBAAsB;IAC7C,IAAI,CAAC,QAAQ;QACT,0FAA0F;QAC1F,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACT;;;IAtFoB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 381, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 432, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Admin/Desktop/CAPSTONE/src/app/dashboard/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/dashboard/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/dashboard/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA8R,GAC3T,4DACA","debugId":null}},
    {"offset": {"line": 446, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Admin/Desktop/CAPSTONE/src/app/dashboard/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/dashboard/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/dashboard/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA0Q,GACvS,wCACA","debugId":null}},
    {"offset": {"line": 460, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}